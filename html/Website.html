<!DOCTYPE html>
<html>
<head>
  <link rel = "icon"
    type = "image/png"
    href="CE-Logo.png">
  <title>LED-Zentralsteuerung</title>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
  <style>
    body{
	    <!-- background-image: url("CE-Logo.png") -->
	    text-family: comic sans ms;
    }
    
    h1{
	font-family: comic sans ms;
	text-align: center;
    }
    
    .button-wrapper{
	font-family: comic sans ms;
	text-align: center;
    }
    
    p1{
	font-family: ;
	color: crimson;
	text-align: center;
    }

    p2{
    font-family: comic sans ms;
    color: green;
    text-align: center;
    }

    p3{
    font-family: lucida console;
    color: blue;
    text-align: center;
    }

    p4{
    font-family: comic sans ms;
    text-align: center;
    color: white;
    }

    p6{
	font-family: arimo;
	text-align: center;
    }
  </style>
</head>
<body>
  <h1><u> LED-Zentralsteuerung Fernbedienung </u> </h1>

  <p style="color: white";> a </p>

  <p1>
    <h2> Knight Rider </h2>
    <div class="button-wrapper">
      <button type="button" id="kr">KnightRider</button>
    </div>
  </p1>
  
  <p4> a </p4>
  
  <p2>
    <h2> Stroboskop </h2>
    <div class="button-wrapper">
      <button type="button" id="st">Stroboskop</button>
    </div>
  </p2>

  <p style="color: white";> a </p>
  
  <p3>
    <h2> Sound Auswerten </h2>
    <div class="button-wrapper">
      <button type="button" id="sa">SoundAuswerten</button>
    </div>
  </p3>

  <p6>
    <h2> Einstellungen </h2>
    <h3> Brightness (0/100)  |  Speed (0/255hoch2) </h3>
    <div class="button-wrapper">
      <input type="number" id="bn" min="0" max="100"></input>  |  <input type="number" id="sp" min="0" max="25500"></input>
    </div>  
    <h3> Rot (0/255)  |  Grün (0/255)  |  Blau  (0/255) </h3>
    <div class="button-wrapper">
      <input type="number" id="rot" min="0" max="255">  |  <input type="number" id="grün" min="0" max="255">  |  <input type="number" id="blau" min="0" max="255">
    </div>
  </p6>

<script>
    // const urli = "wss://172.16.3.193:10001"
// const connection = new WebSocket(urli)t, port,
  var client;
  function knightRider(){
	if(client.isConnected()){
	    client.send("input/animationId", "3");
	    client.send("input/brightness", ""+ document.getElementById("bn").value)
	    client.send("input/speed", ""+ document.getElementById("sp").value)
	    client.send("input/color", ""+ document.getElementById("rot").value + "," + document.getElementById("grün").value + "," + document.getElementById("blau").value)
	};
    }
    
    function stroboskop(){
	if(client.isConnected()){
	    client.send("input/animationId", "1");
	    client.send("input/color", "0,255,0");
	    client.send("input/brightness", "100");
	    client.send("input/brightness", "50");
	    client.send("input/brightness", "100");
	    
	};
    }
    
    function soundAuswerten(){
	if(client.isConnected()){
	    client.send();
	};
    }

  window.onload = function() {
      client = new Paho.MQTT.Client("172.16.3.193", 10001, "/mqtt", "ID");
      client.connect({
	  mqttVersion: 3,
	  onSuccess: function(response) {console.log("connected");}
      });

      document.getElementById("kr").onclick = knightRider;
      document.getElementById("st").onclick = stroboskop;
      document.getElementById("sa").onclick = soundAuswerten;
  }
</script>
</body>
</html>
